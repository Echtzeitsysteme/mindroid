language: none

# The Android SDK appears to require Java 1.8
#jdk:
#   - oraclejdk8

build:
  pre_ci_build:
    image_name: runmymind/docker-android-sdk
    image_tag: latest
    pull: true

  ci:
    - export ANDROID_HOME="$ANDROID_SDK_HOME"
    - cd "impl"
    - cd "androidApp"
    - bash ./gradlew clean test assemble
    - cd "../ev3App"
    - bash ../androidApp/gradlew clean test assemble
    - cd "../serverApp"
    - bash ../androidApp/gradlew clean test assemble
    - echo "End of script"
   
integrations:
  # See http://docs.shippable.com/ci/email-notifications/
  notifications:
    - integrationName: email
      type: email
      sendConsoleLogs: true
      recipients:
        --last_committer
        - roland.kluge@es.tu-darmstadt.de