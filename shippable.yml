language: none

build:
  pre_ci_build:
    image_name: thyrlian/android-sdk
    image_tag: latest
    pull: true

  ci:
    - export ANDROID_HOME="/opt/android-sdk/"
    - cd "impl"
    - cd "./androidApp"
    - bash ./gradlew clean test assemble
    - cd ..
    - cd "./ev3App"
    - bash ../androidApp/gradlew clean test assemble
    - cd ..
    - cd "./serverApp"
    - bash ../androidApp/gradlew clean test assemble
   
integrations:
  # See http://docs.shippable.com/ci/email-notifications/
  notifications:
    - integrationName: email
      type: email
      sendConsoleLogs: true
      recipients:
        --last_committer
        - roland.kluge@es.tu-darmstadt.de
